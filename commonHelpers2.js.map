{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["// const linkGoHome = document.querySelector('a');\n\n// const form = document.createElement('form');\n// form.classList.add('feedback-form');\n// form.setAttribute('autocomplete', 'off');\n\n// form.innerHTML = `\n//   <label>\n//     Email\n//     <input type=\"email\" name=\"email\" autofocus />\n//   </label>\n//   <label>\n//     Message\n//     <textarea name=\"message\" rows=\"8\"></textarea>\n//   </label>\n//   <button type=\"submit\">Submit</button>\n// `;\n\n// form.after(linkGoHome);\n\n// console.log(form);\n\nconst feedbackFormEl = document.querySelector('.feedback-form');\nconst LS_KEY = \"feedback-form-state\";\nlet userData = {};\n\nfeedbackFormEl.addEventListener(\"submit\", onSubmit);\nfeedbackFormEl.addEventListener(\"input\", onInput);\n\nfunction addDataToLocalStorage(key, value) {\n  try {\n    const userDataFromLS = JSON.stringify(value);\n    localStorage.setItem(key, userDataFromLS);\n  } catch (err) {\n    console.log(err.message);\n  }\n}\n\n(function getDataFromLocalStorage(key) {\n  try {\n      const userDataFromLS = JSON.parse(localStorage.getItem(key));\n      if (userDataFromLS) {\n          feedbackFormEl.elements.email.value = userDataFromLS.email;\n          feedbackFormEl.elements.message.value = userDataFromLS.message;\n    }\n  } catch (error) {\n    console.log(error.message);\n  }\n})(LS_KEY)\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  const { email, message } = event.currentTarget.elements;\n\n  if (!email.value.trim() || !message.value.trim()) return alert('Fill in both fields!');\n\n  let userData = {\n    email: email.value.trim(),\n    message: message.value.trim(),\n  };\n  console.log(userData);\n  \n  event.currentTarget.reset();\n localStorage.removeItem(LS_KEY)\n}\n\nfunction onInput(event) {\n    const { email, message } = event.currentTarget.elements;\n    userData.email = email.value.trim();\n    userData.message = message.value.trim();\n    addDataToLocalStorage(LS_KEY, userData);\n}\n\n// getDataFromLocalStorage(LS_KEY);"],"names":["feedbackFormEl","LS_KEY","userData","onSubmit","onInput","addDataToLocalStorage","key","value","userDataFromLS","err","error","event","email","message"],"mappings":"wFAsBA,MAAMA,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAS,sBACf,IAAIC,EAAW,CAAA,EAEfF,EAAe,iBAAiB,SAAUG,CAAQ,EAClDH,EAAe,iBAAiB,QAASI,CAAO,EAEhD,SAASC,EAAsBC,EAAKC,EAAO,CACzC,GAAI,CACF,MAAMC,EAAiB,KAAK,UAAUD,CAAK,EAC3C,aAAa,QAAQD,EAAKE,CAAc,CACzC,OAAQC,EAAK,CACZ,QAAQ,IAAIA,EAAI,OAAO,CACxB,CACH,EAEC,SAAiCH,EAAK,CACrC,GAAI,CACA,MAAME,EAAiB,KAAK,MAAM,aAAa,QAAQF,CAAG,CAAC,EACvDE,IACAR,EAAe,SAAS,MAAM,MAAQQ,EAAe,MACrDR,EAAe,SAAS,QAAQ,MAAQQ,EAAe,QAE9D,OAAQE,EAAO,CACd,QAAQ,IAAIA,EAAM,OAAO,CAC1B,CACH,GAAGT,CAAM,EAET,SAASE,EAASQ,EAAO,CACvBA,EAAM,eAAc,EACpB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAO,EAAKF,EAAM,cAAc,SAE/C,GAAI,CAACC,EAAM,MAAM,KAAM,GAAI,CAACC,EAAQ,MAAM,KAAM,EAAE,OAAO,MAAM,sBAAsB,EAErF,IAAIX,EAAW,CACb,MAAOU,EAAM,MAAM,KAAM,EACzB,QAASC,EAAQ,MAAM,KAAM,CACjC,EACE,QAAQ,IAAIX,CAAQ,EAEpBS,EAAM,cAAc,QACrB,aAAa,WAAWV,CAAM,CAC/B,CAEA,SAASG,EAAQO,EAAO,CACpB,KAAM,CAAE,MAAAC,EAAO,QAAAC,CAAO,EAAKF,EAAM,cAAc,SAC/CT,EAAS,MAAQU,EAAM,MAAM,KAAI,EACjCV,EAAS,QAAUW,EAAQ,MAAM,KAAI,EACrCR,EAAsBJ,EAAQC,CAAQ,CAC1C"}